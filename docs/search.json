[
  {
    "objectID": "ESS330_lab2.html",
    "href": "ESS330_lab2.html",
    "title": "ESS330_lab2",
    "section": "",
    "text": "library(readr)\n\nWarning: package 'readr' was built under R version 4.4.2\n\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(tidyverse)\n\nWarning: package 'lubridate' was built under R version 4.4.2\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\n#Import Dataset\n\ntrees &lt;- read.csv(\"data/tree_dat.csv\")\n\n#Q13\n\ntrees &lt;- trees %&gt;%\n  rename(rad_ib_mm = rad_ib, inc_mm = inc)\n\n#Q14\n\ntrees &lt;- trees %&gt;%\n  mutate(rad_ib_cm = rad_ib_mm/10,\n         DBH_cm = rad_ib_cm*2,\n         BA_m2 = 0.00007854 * DBH_cm^2)\n\ntemp &lt;- filter(trees, species == 'POTR')\ntemp &lt;- filter(temp, year == 2007)\n\nmean(temp$BA_m2)\n\n[1] 0.03696619\n\n\n#Q15\n\ntrees %&gt;%\n  mutate(established = if_else(age &gt; 5, TRUE, FALSE)) %&gt;%\n  count(established)\n\n  established      n\n1       FALSE   8883\n2        TRUE 122503\n\n\n#Q16\n\ntrees &lt;- mutate(trees,\n                DBH_class = case_when(\n                  DBH_cm &lt; 2.5 ~ \"seedling\",\n                  DBH_cm &gt;= 2.5 & DBH_cm &lt; 10 ~ \"sapling\",\n                  DBH_cm &gt;= 10 & DBH_cm &lt; 30 ~ \"pole\",\n                  DBH_cm &gt;= 30 ~ \"sawlog\")\n                )\n\nfilter(trees, year == 2007) %&gt;%\n  count(DBH_class)\n\n  DBH_class    n\n1      pole 1963\n2   sapling  252\n3    sawlog   76\n\n\n#FINAL QUESTION\n\ntemp &lt;- trees %&gt;%\n  group_by(treeID) %&gt;%\n  arrange(year) %&gt;%\n  mutate(growth = DBH_cm - lag(DBH_cm), \n  total_years = n()) %&gt;%\n  filter(!is.na(growth), total_years &gt; 10) %&gt;%\n  ungroup() %&gt;%\n  group_by(species) %&gt;%\n  summarise(mean_growth = mean(growth))\n\nslice_max(temp, mean_growth, n = 3)\n\n# A tibble: 3 × 2\n  species mean_growth\n  &lt;chr&gt;         &lt;dbl&gt;\n1 PIRE          0.358\n2 POTR          0.331\n3 PIBA          0.326\n\nslice_min(temp, mean_growth, n = 3)\n\n# A tibble: 3 × 2\n  species mean_growth\n  &lt;chr&gt;         &lt;dbl&gt;\n1 LALA          0.150\n2 THOC          0.153\n3 QURU          0.168"
  }
]